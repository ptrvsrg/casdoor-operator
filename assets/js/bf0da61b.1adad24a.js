"use strict";(self.webpackChunkcasdoor_operator_docs=self.webpackChunkcasdoor_operator_docs||[]).push([[559],{8453:(e,r,t)=>{t.d(r,{R:()=>n,x:()=>o});var d=t(6540);const s={},c=d.createContext(s);function n(e){const r=d.useContext(c);return d.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function o(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:n(e.components),d.createElement(c.Provider,{value:r},e.children)}},8584:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>i,contentTitle:()=>o,default:()=>l,frontMatter:()=>n,metadata:()=>d,toc:()=>a});const d=JSON.parse('{"id":"api-reference/casdoor","title":"Casdoor CRD","description":"The Casdoor Custom Resource Definition (CRD) is designed to allow other resources to interact with the Casdoor API. It","source":"@site/docs/api-reference/2-casdoor.md","sourceDirName":"api-reference","slug":"/api-reference/casdoor","permalink":"/casdoor-operator/docs/api-reference/casdoor","draft":false,"unlisted":false,"editUrl":"https://github.com/ptrvsrg/casdoor-operator/tree/main/docs/api-reference/2-casdoor.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{},"sidebar":"docSidebar","previous":{"title":"Introduction","permalink":"/casdoor-operator/docs/api-reference/introduction"}}');var s=t(4848),c=t(8453);const n={},o="Casdoor CRD",i={},a=[{value:"Casdoor Schema Reference",id:"casdoor-schema-reference",level:2},{value:"CasdoorSpec Schema Reference",id:"casdoorspec-schema-reference",level:2},{value:"CasdoorHealthcheckSpec Schema Reference",id:"casdoorhealthcheckspec-schema-reference",level:2},{value:"CasdoorStatus Schema Reference",id:"casdoorstatus-schema-reference",level:2}];function h(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"casdoor-crd",children:"Casdoor CRD"})}),"\n",(0,s.jsx)(r.p,{children:"The Casdoor Custom Resource Definition (CRD) is designed to allow other resources to interact with the Casdoor API. It\nalso monitors the state of the Casdoor instance and updates its status accordingly."}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Example:"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-yaml",metastring:'title="casdoor-sample-secret.yaml"',children:"apiVersion: v1\nkind: Secret\nmetadata:\n  name: casdoor-test-secret\n  labels:\n    app.kubernetes.io/name: casdoor-operator\n    app.kubernetes.io/instance: test\ntype: Opaque\ndata:\n  clientSecret: MDRjNDFjODNhNGEzYTY1ZjI5MmQxZjZiMTM4MjEzZTc0YmE1Mzk3Mwo=\n  jwtCertificate: |-\n    LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUUyVENDQXNHZ0F3SUJBZ0lEQWVKQU1BMEdDU3FHU0liM0RRRUJDd1VBTUNZeERqQU1CZ05WQkFvVEJXRmsKYldsdU1SUXdFZ1lEVlFRRERBdGpaWEowWDJoMk5HZGlaekFlRncweU5UQTFNekV4T0RVeE5EVmFGdzAwTlRBMQpNekV4T0RVeE5EVmFNQ1l4RGpBTUJnTlZCQW9UQldGa2JXbHVNUlF3RWdZRFZRUUREQXRqWlhKMFgyaDJOR2RpClp6Q0NBaUl3RFFZSktvWklodmNOQVFFQkJRQURnZ0lQQURDQ0Fnb0NnZ0lCQU1mRGRQZmRnRWlleVY4dEs0M2gKakc0NHgwOFpHVGFBMm1MaHpwTzZyY0xQZGlpbmsrSDNxYlJadEpBRGIrMG9YNWRoVTNlSlZlejVzWWt4Ry9FTApVTXdjakxteXNLUHVSa3pXWkFjNUtiSGNxdWQvbnJqS1dJWFlJQTFSdDhrTzdIZ2JxRFJXWlhMUkh4enc5dFBhCm0yWHppMXY1b3RGcU9iWGVPQVlNVlcrMVp6Ym5oaHMrVFA4SW51NzNxT2V6c3c4ZGhPaTJWVGtrc3R6Q2JKL2EKQUsrZDIrbGRPZ0hqaXJFYnltY2JGZXY3WEdVTUtoRDR4YmViNG13RnlEeHliYkNTU3BRQzR6NWQyd1Q5V0pzWQpTSUtIaU5Ec25IYmNjK3hCY2JJaENyOFRJOU9hV25lYUZpOWpqREFGZ3VFUCtvV2pQVml5L0JTYXU1ZTRYbTd2CkY0UE94bVlOMUl6ai9QNDlHcVBLamk1aUE0aGVZWU5HdzAxOWd4dnRXa21TZ0o0emRuRlZXUVpkZ1R5SzI5emIKVXlqNzlJVVoxNVZ6MTJuSEdxZkJpUUVZclhsd1dueDdiY1owdWxiYTdpQTNOOUpzcVY3MWlKVjVhd2FGOGFYbAppNDRadE5udituVzg1bmRrYU9PSDUyRDdaWm50bjhYVjRCaXU2SGt5MDRlSHdWMy9GZkY1VWRiMW54RWU2MEpVCkxZRzZsMWV1cXVnNXVkdGhRWWlRRXRvVTRZRjdmdWpIOUdBUUczN1lFNko2UTFKQ0lNRlpIQ3hHSHpoZjJQTU8KT2w2d0pZNFdPYVhrVFdGU3FzK2NQTnZFQ0VlMC9iVWJPMjZZUmtzYTB1eU9rYStyK0tINS9rUmk4a3VuQ2dScQpqWGo4aW5IcUNpN29Uc2dDZGVJc2EyOTNBZ01CQUFHakVEQU9NQXdHQTFVZEV3RUIvd1FDTUFBd0RRWUpLb1pJCmh2Y05BUUVMQlFBRGdnSUJBSGFNOHVKS2JobFcySFNPVWVkREhFejBMUGd6eHdXWU81MXJFMWVUc0UzMytXekMKQWUrS0FwMHJlc1pNN24xN1F5Y3FIMGdGcHk3Nng1K3ZBTFNWbXJrS2c5UFc5YTl0NlQ5R3VScnRRNklaTWdjMQpjTjQvS1BGRm1ER2ZVTFJJbUdmUkRKMFFSaC9HblAvbERQMFN6MEU1TTRydkJPL294eEJwcTN1MXViMHVsWk03CkZTWG56UDdqeXlzUWtSVjd6a05pVmthUklUbnhrNWg3ei9vUFNvMHJFaGhqVU1UY2YyVEcxZVBMTGw0b1ZwaUsKNFdvK2xVL3FPRnFGMXhyNXFxV3N3OERib2toNzh4MDExV2syejV5a2duWUo4b2ZOcStRZ0p4a1NtWGpNMUQwZwo0My85SytOcjdJajhiNHNmTjZ1S1NlSWU0N00weXJvRUsyTzJOeE4zOEFxRGdjY2tPUTNickFiVjJ0S3dIdVZ6CnNaQ3pTVTNWNXNVWTBsNTdvbHNrKzdUSE94MlVoY2ZNWlJyNThCcWprMXI5cFptSnJXamZZYzRBNncxNUNJL2MKenNhK0tmaEcxZ2kwYndBbzJkQW9PMVpweTVseEdQUkJhc1R6c1FtZDZMQ2dkaVdGNnI3ZEFzakg5WnUxZXNQWgpyeitxM0UwSU1aNjZwQzFZc2NacWdmb0wxYmlsb25xSHZWQXRseEIxM0h5YzFGaXE4YUxLQ0pRNGEyc0dsczVICjByU2lYWDAxd2V0VEE4eWlQMHhJZnRDZWJPL3lZeDBzWUN1dEJ2THM3K0E2Z0IxUEk3YlcyQytMeXY4VTE5dUcKakh1WlJPbVFoNnZFNGFHYlQybmorZjlTbzNENXFqM3Y1eDBOUkd2a0JuZ3ZwTnRRRjFBR05FdzRDRzFQCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K\n"})}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-yaml",metastring:'title="casdoor-sample.yaml"',children:"apiVersion: casdoor.ptrvsrg.github.com/v1alpha1\nkind: Casdoor\nmetadata:\n  labels:\n    app.kubernetes.io/name: casdoor-operator\n    app.kubernetes.io/instance: test\n  name: casdoor-test\nspec:\n  url: http://test-casdoor.default.svc.cluster.local:8000\n  organizationName: platform-admin-org\n  applicationName: platform-admin-app\n  clientID: 9bb2f3bdc6238f575900\n  clientSecret:\n    key: clientSecret\n    name: casdoor-test-secret\n  jwtCertificate:\n    key: jwtCertificate\n    name: casdoor-test-secret\n  healthcheck:\n    enabled: true\n"})}),"\n",(0,s.jsx)(r.h2,{id:"casdoor-schema-reference",children:"Casdoor Schema Reference"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Property"}),(0,s.jsx)(r.th,{children:"Required"}),(0,s.jsx)(r.th,{children:"Property type"}),(0,s.jsx)(r.th,{children:"Default"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"spec"})}),(0,s.jsx)(r.td,{children:"\u2705"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"#casdoorspec-schema-reference",children:"CasdoorSpec"})}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"The specification of the Casdoor instance, including configuration details."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"status"})}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"#casdoorstatus-schema-reference",children:"CasdoorStatus"})}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"The current status of the Casdoor instance, reflecting its operational state."})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"casdoorspec-schema-reference",children:"CasdoorSpec Schema Reference"}),"\n",(0,s.jsxs)(r.p,{children:["Used in ",(0,s.jsx)(r.a,{href:"#casdoor-schema-reference",children:"Casdoor"})]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Property"}),(0,s.jsx)(r.th,{children:"Required"}),(0,s.jsx)(r.th,{children:"Property type"}),(0,s.jsx)(r.th,{children:"Default"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"url"})}),(0,s.jsx)(r.td,{children:"\u2705"}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:'""'}),(0,s.jsx)(r.td,{children:"The URL of the Casdoor instance that will be accessed by other resources."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"organizationName"})}),(0,s.jsx)(r.td,{children:"\u2705"}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:'""'}),(0,s.jsx)(r.td,{children:"The name of Casdoor organization for management other Casdoor resources."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"applicationName"})}),(0,s.jsx)(r.td,{children:"\u2705"}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:'""'}),(0,s.jsx)(r.td,{children:"The name of Casdoor application for management other Casdoor resources."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"clientID"})}),(0,s.jsx)(r.td,{children:"\u2705"}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:'""'}),(0,s.jsx)(r.td,{children:"The client ID of Casdoor application for management other Casdoor resources."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"clientSecret"})}),(0,s.jsx)(r.td,{children:"\u2705"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.25/#secretkeyselector-v1-core",children:"SecretKeySelector"})}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"The reference to the key from a Kubernetes Secret containing the client secret of Casdoor application for management other Casdoor resources."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"jwtCertificate"})}),(0,s.jsx)(r.td,{children:"\u2705"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://kubernetes.io/docs/reference/generated/kubernetes-api/v1.25/#secretkeyselector-v1-core",children:"SecretKeySelector"})}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"The reference to the key from a Kubernetes Secret containing the JWT certificate of Casdoor application for management other Casdoor resources."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"healthcheck"})}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"#casdoorhealthcheckspec-schema-reference",children:"CasdoorHealthcheckSpec"})}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"Configuration for health checks to monitor the availability and responsiveness of the Casdoor instance."})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"casdoorhealthcheckspec-schema-reference",children:"CasdoorHealthcheckSpec Schema Reference"}),"\n",(0,s.jsxs)(r.p,{children:["Used in ",(0,s.jsx)(r.a,{href:"#casdoorspec-schema-reference",children:"CasdoorSpec"})]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Property"}),(0,s.jsx)(r.th,{children:"Required"}),(0,s.jsx)(r.th,{children:"Property type"}),(0,s.jsx)(r.th,{children:"Default"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"enabled"})}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"boolean"}),(0,s.jsx)(r.td,{children:"false"}),(0,s.jsx)(r.td,{children:"Enables or disables health checks for the Casdoor instance. When disabled, no periodic health checks will be performed."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"method"})}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:'"GET"'}),(0,s.jsx)(r.td,{children:"The HTTP method used for performing health checks. Supported methods include GET, HEAD, POST, etc."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"path"})}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:'"/"'}),(0,s.jsx)(r.td,{children:"The endpoint path on the Casdoor server that will be queried for health checks."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"timeout"})}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:'"1m"'}),(0,s.jsx)(r.td,{children:"The maximum time allowed for a single health check request to complete. If the request exceeds this duration, it is considered failed."})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"retries"})}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"integer"}),(0,s.jsx)(r.td,{children:"3"}),(0,s.jsx)(r.td,{children:"The number of retry attempts for a failed health check before considering the Casdoor instance unhealthy."})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"casdoorstatus-schema-reference",children:"CasdoorStatus Schema Reference"}),"\n",(0,s.jsxs)(r.p,{children:["Used in ",(0,s.jsx)(r.a,{href:"#casdoor-schema-reference",children:"Casdoor"})]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Property"}),(0,s.jsx)(r.th,{children:"Required"}),(0,s.jsx)(r.th,{children:"Property type"}),(0,s.jsx)(r.th,{children:"Default"}),(0,s.jsx)(r.th,{children:"Description"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"code"})}),(0,s.jsx)(r.td,{children:"\u2705"}),(0,s.jsx)(r.td,{children:"string (one or more of [Ready, NotReady, Unknown])"}),(0,s.jsx)(r.td,{children:'"Unknown"'}),(0,s.jsxs)(r.td,{children:["The current status code of the Casdoor instance. Possible values include ",(0,s.jsx)(r.code,{children:"Ready"}),", ",(0,s.jsx)(r.code,{children:"NotReady"})," or ",(0,s.jsx)(r.code,{children:"Unknown"}),"."]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"reason"})}),(0,s.jsx)(r.td,{}),(0,s.jsx)(r.td,{children:"string"}),(0,s.jsx)(r.td,{children:'""'}),(0,s.jsxs)(r.td,{children:["A descriptive reason for the failure, if the status code is ",(0,s.jsx)(r.code,{children:"NotReady"}),". This provides additional context for troubleshooting."]})]})]})]})]})}function l(e={}){const{wrapper:r}={...(0,c.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);